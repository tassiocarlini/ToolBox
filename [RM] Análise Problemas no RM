/*
Validar colunas de DATAPROGRAMADA,DATAINIEXEC,DATAFIMEXEC
*/

SELECT
GJOBXEXECUCAO.IDJOB,
GJOBX.NOME,
GJOBX.CLASSEPROCESSO,
GJOBX.CODCOLIGADA,
GJOBX.CODSISTEMA,
GJOBXEXECUCAO.STATUS, 
CASE GJOBXEXECUCAO.STATUS
  WHEN 0 THEN '0 - NONE'
  WHEN 1 THEN '1 - RUNNING'
  WHEN 2 THEN '2 - FINISHED'
  WHEN 3 THEN '3 - CANCELED'
  WHEN 4 THEN '4 - STOPPED'
  WHEN 5 THEN '5 - ERROR'
  WHEN 6 THEN '6 - WARNING'
  WHEN 7 THEN '7 - FAILED'
  WHEN 8 THEN '8 - DISABLED'
  ELSE 'DISABLED:'
END STATUS,
GJOBX.CODUSUARIO,
CONVERT(varchar, GJOBXEXECUCAO.DATAPROGRAMADA,120) as DATAPROGRAMADA,
CONVERT(varchar, GJOBXEXECUCAO.DATAINIEXEC,120) as DATAINIEXEC,
CONVERT(varchar, GJOBXEXECUCAO.DATAFIMEXEC,120) as DATAFIMEXEC,
CONVERT(varchar, GJOBXEXECUCAO.DATAINIEXEC - GJOBXEXECUCAO.DATAPROGRAMADA,8) AS 'TMPFILA',
CONVERT(varchar, GJOBXEXECUCAO.DATAFIMEXEC - GJOBXEXECUCAO.DATAINIEXEC,8) AS 'TMPEXECUCAO',
CONVERT(varchar, GJOBXEXECUCAO.DATAFIMEXEC - GJOBXEXECUCAO.DATAPROGRAMADA,8) AS 'TMPTOTAL',
GJOBXEXECUCAO.SERVIDOR,
GJOBX.APPSERVER
FROM GJOBX(NOLOCK)
INNER JOIN GJOBXEXECUCAO(NOLOCK)
ON (GJOBX.IDJOB = GJOBXEXECUCAO.IDJOB)
WHERE  GJOBXEXECUCAO.DATAPROGRAMADA >= GETDATE() -1
ORDER BY GJOBXEXECUCAO.DATAINIEXEC DESC



/*
Tabelas GWORKFLOW
- Validar Ãºltimas formulas visuais alteradas e criadas
*/
